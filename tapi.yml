---
listen: 127.0.0.1
listen_port: 8081
apikey: "abcd1234"
commands:
- endpoint: "/testread"
  read_file: "/tmp/apitest-{x}"
- endpoint: "/testwrite"
  write_file: "/tmp/apitest-{x}"
- endpoint: "/testwrite"
  write_file: "/root/apipermtest-{x}"
  user: knot
  group: knot
  mode: 0o644
- endpoint: "/testshell"
  shell: 'echo Hello "x={x} y={y}"'

- endpoint: "/zonewrite"
  write_file: "/tmp/{zonename}.zone"
  user: th
  group: th
  mode: 0o644
- endpoint: "/configwrite"
  write_file: "/tmp/knot-ddnsm.conf"
  user: th
  group: th
  mode: 0o644
- endpoint: "/zonereload"
  shell: "/usr/bin/true {zonename}"
- endpoint: "/zonecheck"
  shell: "/usr/bin/true {zonename}"
- endpoint: "/configreload"
  shell: "/usr/bin/true"
